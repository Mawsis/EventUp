{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="descreption" content="event page">
        <meta name="author" conent="Younes">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="{%static 'EventUp/main-page.css' %}">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.css" />

        <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
        <title>Event page</title>
    </head>
    <body>
        <div class="nav">
            <div class="nav-flex">
                <img src="{% static 'EventUp/logo.png' %}" alt="logo">
                <p class="slogan">unique experiences with each click</p>
                <div class="nav-bar">
                    <div><a href="{% url 'profile' %}"><svg width="28" height="28" viewBox="0 0 30 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14.9062 16.3333C12.8566 16.3333 11.1021 15.5337 9.64248 13.9344C8.18291 12.3351 7.45312 10.4125 7.45312 8.16667C7.45312 5.92083 8.18291 3.99826 9.64248 2.39896C11.1021 0.799653 12.8566 0 14.9062 0C16.9559 0 18.7104 0.799653 20.17 2.39896C21.6296 3.99826 22.3594 5.92083 22.3594 8.16667C22.3594 10.4125 21.6296 12.3351 20.17 13.9344C18.7104 15.5337 16.9559 16.3333 14.9062 16.3333ZM0 32.6667V26.95C0 25.7931 0.272039 24.7293 0.816118 23.7589C1.35895 22.7898 2.08066 22.05 2.98125 21.5396C4.90664 20.4847 6.86309 19.6932 8.85059 19.1651C10.8381 18.6384 12.8566 18.375 14.9062 18.375C16.9559 18.375 18.9744 18.6384 20.9619 19.1651C22.9494 19.6932 24.9059 20.4847 26.8312 21.5396C27.7318 22.05 28.4535 22.7898 28.9964 23.7589C29.5405 24.7293 29.8125 25.7931 29.8125 26.95V32.6667H0Z" fill="white"/>
                        </svg></a>        
                    </div>
                    <div><svg width="28" height="28" viewBox="0 0 36 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M32.4 27.1429H36V30.7619H0V27.1429H3.6V14.4762C3.6 10.6369 5.11714 6.95479 7.81766 4.23998C10.5182 1.52517 14.1809 0 18 0C21.8191 0 25.4818 1.52517 28.1823 4.23998C30.8829 6.95479 32.4 10.6369 32.4 14.4762V27.1429ZM28.8 27.1429V14.4762C28.8 11.5967 27.6621 8.83514 25.6368 6.79903C23.6114 4.76292 20.8643 3.61905 18 3.61905C15.1357 3.61905 12.3886 4.76292 10.3632 6.79903C8.33785 8.83514 7.2 11.5967 7.2 14.4762V27.1429H28.8ZM12.6 34.381H23.4V38H12.6V34.381Z" fill="white"/>
                        </svg>
                    </div>
                    <div>
                        <svg width="28" height="28" viewBox="0 0 36 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M34.062 23.4125L34.1112 23.2445C35.3804 19.5251 35.3804 15.4749 34.1112 11.7555L34.062 11.5875C32.8646 8.20794 30.6817 5.28681 27.8087 3.21975C24.9358 1.1527 21.5117 0.0396128 18.0003 0.03125C14.4878 0.0347864 11.0616 1.14598 8.18772 3.21369C5.31388 5.28139 3.1319 8.20523 1.93858 11.5875L1.88936 11.7555C0.620212 15.4749 0.620212 19.5251 1.88936 23.2445L1.93858 23.4125C3.1319 26.7948 5.31388 29.7186 8.18772 31.7863C11.0616 33.854 14.4878 34.9652 18.0003 34.9688C21.5128 34.9652 24.939 33.854 27.8129 31.7863C30.6867 29.7186 32.8687 26.7948 34.062 23.4125ZM13.8167 24.2188H22.1839C21.3432 26.8907 19.9115 29.3279 18.0003 31.3406C16.0891 29.3279 14.6574 26.8907 13.8167 24.2188ZM13.1276 21.5312C12.6247 18.8684 12.6247 16.1316 13.1276 13.4688H22.873C23.1227 14.7973 23.2491 16.1471 23.2503 17.5C23.2499 18.853 23.1235 20.2028 22.873 21.5312H13.1276ZM3.5628 17.5C3.56559 16.1375 3.7477 14.7815 4.10421 13.4688H10.4534C10.0159 16.1376 10.0159 18.8624 10.4534 21.5312H4.10421C3.7477 20.2185 3.56559 18.8625 3.5628 17.5ZM22.1839 10.7812H13.8167C14.6574 8.10935 16.0891 5.67215 18.0003 3.65937C19.9115 5.67215 21.3432 8.10935 22.1839 10.7812ZM25.5472 13.4688H31.8964C32.6185 16.1054 32.6185 18.8946 31.8964 21.5312H25.5472C25.9847 18.8624 25.9847 16.1376 25.5472 13.4688ZM30.8628 10.7812H24.9566C24.1671 7.9515 22.8217 5.31656 21.0026 3.03789C23.103 3.5022 25.0767 4.43749 26.7817 5.77643C28.4867 7.11537 29.8805 8.82465 30.8628 10.7812ZM14.998 3.03789C13.1789 5.31656 11.8335 7.9515 11.0441 10.7812H5.1378C6.12013 8.82465 7.51395 7.11537 9.21891 5.77643C10.9239 4.43749 12.8976 3.5022 14.998 3.03789ZM5.1378 24.2188H11.0441C11.8335 27.0485 13.1789 29.6834 14.998 31.9621C12.8963 31.5011 10.9211 30.5671 9.21572 29.2278C7.51029 27.8885 6.11732 26.1775 5.1378 24.2188ZM21.0026 31.9621C22.8217 29.6834 24.1671 27.0485 24.9566 24.2188H30.8628C29.8833 26.1775 28.4903 27.8885 26.7849 29.2278C25.0795 30.5671 23.1043 31.5011 21.0026 31.9621Z" fill="white"/>
                            </svg>   
                    </div>
                    <div>About us</div>
                    <div>Help</div>
                    {%if user.is_authenticated%}
                        {% if user.profile.is_verified%}
                        <div><a href="{% url 'create_event' %}"> Create Event</a></div>
                        {% endif %}
                    {%else%}
                        <div><a href="{% url 'login' %}"> Login</a></div>
                    {% endif %}
                </div>
            </div>
            <div class="search-bar">
                <svg width="32" height="32" viewBox="0 0 51 49" onclick="active()" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="51" height="49" rx="10" fill="white" fill-opacity="0.77"/>
                    <path d="M13.3662 29.1754L12.7499 29.7879V14.2917C12.7499 13.7502 12.526 13.2309 12.1275 12.848C11.729 12.4651 11.1885 12.25 10.6249 12.25C10.0613 12.25 9.52082 12.4651 9.1223 12.848C8.72379 13.2309 8.49991 13.7502 8.49991 14.2917V29.7879L7.88366 29.1754C7.48351 28.791 6.9408 28.575 6.37491 28.575C5.80901 28.575 5.2663 28.791 4.86616 29.1754C4.46601 29.5599 4.24121 30.0813 4.24121 30.625C4.24121 31.1687 4.46601 31.6901 4.86616 32.0746L9.11616 36.1579C9.31825 36.3438 9.55656 36.4895 9.81741 36.5867C10.0718 36.6947 10.3468 36.7505 10.6249 36.7505C10.903 36.7505 11.178 36.6947 11.4324 36.5867C11.6933 36.4895 11.9316 36.3438 12.1337 36.1579L16.3837 32.0746C16.5818 31.8842 16.739 31.6582 16.8462 31.4095C16.9534 31.1608 17.0086 30.8942 17.0086 30.625C17.0086 30.3558 16.9534 30.0892 16.8462 29.8405C16.739 29.5918 16.5818 29.3658 16.3837 29.1754C16.1855 28.9851 15.9503 28.834 15.6914 28.731C15.4326 28.628 15.1551 28.575 14.8749 28.575C14.5947 28.575 14.3172 28.628 14.0584 28.731C13.7995 28.834 13.5643 28.9851 13.3662 29.1754ZM23.3749 16.3333H44.6249C45.1885 16.3333 45.729 16.1182 46.1275 15.7353C46.526 15.3525 46.7499 14.8331 46.7499 14.2917C46.7499 13.7502 46.526 13.2309 46.1275 12.848C45.729 12.4651 45.1885 12.25 44.6249 12.25H23.3749C22.8113 12.25 22.2708 12.4651 21.8723 12.848C21.4738 13.2309 21.2499 13.7502 21.2499 14.2917C21.2499 14.8331 21.4738 15.3525 21.8723 15.7353C22.2708 16.1182 22.8113 16.3333 23.3749 16.3333ZM44.6249 22.4583H23.3749C22.8113 22.4583 22.2708 22.6734 21.8723 23.0563C21.4738 23.4392 21.2499 23.9585 21.2499 24.5C21.2499 25.0415 21.4738 25.5608 21.8723 25.9437C22.2708 26.3266 22.8113 26.5417 23.3749 26.5417H44.6249C45.1885 26.5417 45.729 26.3266 46.1275 25.9437C46.526 25.5608 46.7499 25.0415 46.7499 24.5C46.7499 23.9585 46.526 23.4392 46.1275 23.0563C45.729 22.6734 45.1885 22.4583 44.6249 22.4583ZM44.6249 32.6667H23.3749C22.8113 32.6667 22.2708 32.8818 21.8723 33.2647C21.4738 33.6475 21.2499 34.1668 21.2499 34.7083C21.2499 35.2498 21.4738 35.7691 21.8723 36.152C22.2708 36.5349 22.8113 36.75 23.3749 36.75H44.6249C45.1885 36.75 45.729 36.5349 46.1275 36.152C46.526 35.7691 46.7499 35.2498 46.7499 34.7083C46.7499 34.1668 46.526 33.6475 46.1275 33.2647C45.729 32.8818 45.1885 32.6667 44.6249 32.6667Z" fill="#403D7C"/>
                    </svg>
                    
                <input type="text" name="search" placeholder="Search..." id="">

                <svg width="32" height="32" viewBox="0 0 56 49" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 1.53126C14 1.12514 13.8156 0.735661 13.4874 0.448494C13.1592 0.161328 12.7141 0 12.25 0C11.7859 0 11.3408 0.161328 11.0126 0.448494C10.6844 0.735661 10.5 1.12514 10.5 1.53126V3.06251H7C5.14348 3.06251 3.36301 3.70783 2.05025 4.85649C0.737498 6.00515 0 7.56308 0 9.18754L0 12.25H56V9.18754C56 7.56308 55.2625 6.00515 53.9497 4.85649C52.637 3.70783 50.8565 3.06251 49 3.06251H45.5V1.53126C45.5 1.12514 45.3156 0.735661 44.9874 0.448494C44.6592 0.161328 44.2141 0 43.75 0C43.2859 0 42.8408 0.161328 42.5126 0.448494C42.1844 0.735661 42 1.12514 42 1.53126V3.06251H14V1.53126ZM14.364 23.9029L17.15 31.1764H11.494L14.294 23.9029H14.364ZM46.123 30.9375C46.123 28.3895 44.674 26.7725 42.406 26.7725C39.984 26.7725 38.563 28.2792 38.563 30.9375V31.7123C38.563 34.3216 39.984 35.8896 42.406 35.8896C44.7545 35.8896 46.123 34.3093 46.123 31.7123V30.9375Z" fill="white" fill-opacity="0.77"/>
                    <path d="M56 42.8751V15.3125H0V42.8751C0 44.4996 0.737498 46.0575 2.05025 47.2062C3.36301 48.3548 5.14348 49.0001 7 49.0001H49C50.8565 49.0001 52.637 48.3548 53.9497 47.2062C55.2625 46.0575 56 44.4996 56 42.8751ZM8.96 37.7668H6.475L13.118 21.4375H15.554L22.197 37.7668H19.6805L17.794 32.8607H10.85L8.96 37.7668ZM34.475 25.1952V37.7668H32.137V36.1161H32.0425C31.535 37.1084 30.1805 37.969 27.8845 37.969C24.92 37.969 22.799 36.4867 22.799 33.6049V25.1952H25.165V33.0169C25.165 35.3628 26.7085 36.1161 28.595 36.1161C30.66 36.1161 32.109 34.98 32.109 32.9832V25.1952H34.475ZM38.9305 38.7009C39.193 39.7177 40.4075 40.6487 42.378 40.6487C44.646 40.6487 46.123 39.491 46.123 37.5157V35.6629H46.053C45.4825 36.7501 43.9075 37.6474 41.9545 37.6474C38.605 37.6474 36.2145 35.5894 36.2145 31.8225V30.7812C36.2145 27.0848 38.577 25.0023 41.9545 25.0023C43.9075 25.0023 45.4685 25.8996 46.137 26.9623H46.207V25.1952H48.475V37.5372C48.475 40.7589 45.619 42.3729 42.364 42.3729C38.7135 42.3729 36.855 40.7926 36.526 38.6978H38.9305V38.7009Z" fill="white" fill-opacity="0.77"/>
                    </svg>
                    
            </div>
        </div>
        <div class="main">
            
                <form class="filter active" action="{% url 'filter' %}" method="post" id="filter-start">
                    {% csrf_token %}
                    <div class="filter-btn" id="Filter-by">Filter By</div>
                    <div class="filter-btn">
                        <label for="month">Month : </label>
                        <input type="month" name="month" id="month">
                    </div>
                    <div class="filter-btn"><select name="category" id="">
                        {%for category in categories%}
                            <option value="{{category.name}}">{{category.name}}</option>
                        {% endfor %}
                    </select></div>
                    <div class="filter-btn">Position</div>
                    <label for="filtrer" class="filter-btn" id="filtrer-div">Filtrer<input type="submit" style="display:none;" value="Filtrer" id="filtrer"></label>
                </form>
            
            <div class="events">
                <div class="cont">
                    <h4>Recomendations :</h4>
                    <div class="recommendation swiper mySwiper">
                        <div class="swiper-wrapper">
                            {%for event in events%}
                                <div class="swiper-slide">
                                    <a href="{% url 'event' event.id %}"><img src="{{event.image.url}}" alt=""></a>
                                </div>
                            {%empty%}
                                <div class="swiper-slide">
                                    No events
                                </div>
                            {% endfor %}
                        </div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-button-next"></div>
                    </div>
                </div>
                <div class="cont">
                    <h4>Subscriptions :</h4>
                    <div class="recommendation swiper mySwiper">
                        <div class="swiper-wrapper">
                            {%for subscription in subscriptions%}
                                {%for event in subscription.club.user.events.all%}
                                    <div class="swiper-slide">
                                        <a href="{% url 'event' event.id %}"><img src="{{event.image.url}}" alt=""></a>
                                    </div>
                                {% endfor %}
                            {%empty%}
                                <div class="swiper-slide">
                                    No events
                                </div>
                            {% endfor %}
                        </div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-button-next"></div>
                    </div>
                </div>
            </div>
            
        </div>
        <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
        <script>
            function active(){
                const filter = document.getElementById("filter-start")
                if (filter.classList.contains("active")){
                    filter.classList.remove("active")
                }
                else{
                    filter.classList.add("active")
                }
            }            
            var swiper = new Swiper(".mySwiper", {
            slidesPerView: 4,
            spaceBetween: 30,
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            }
            });

      </script>
    </body>
</html>